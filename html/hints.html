<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The General Hints System &mdash; latex2edx 1.3 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="latex2edx 1.3 documentation" href="index.html" />
    <link rel="next" title="Release History" href="history.html" />
    <link rel="prev" title="latex2edx TeX Macros" href="macros.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="history.html" title="Release History"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="macros.html" title="latex2edx TeX Macros"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">latex2edx 1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-general-hints-system">
<h1>The General Hints System<a class="headerlink" href="#the-general-hints-system" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="overview-and-theory-of-operation">
<h2>Overview and theory of operation<a class="headerlink" href="#overview-and-theory-of-operation" title="Permalink to this headline">¶</a></h2>
<p>The edX platform allows hints to be generated for a wide variety of
problems, including multiple choice, option response, and custom
response problems.  These hints are presented as an HTML string, which
is generated by a python function.  The python function is given the
student&#8217;s responses as input.</p>
<p>This design is very general, and allows adaptive hints to be provided,
based on properties of the student&#8217;s responses, such as what strings,
mathematical symbols, or numerical values are entered.  However, it
requires content authors to write python scripts, and this can be
burdensome.</p>
<p>latex2edx provides a built-in &#8220;general hint system,&#8221; implemented
by a standard python library, which alleviates the need for content
authors to write any python code.  This hint system is automatically
activated and employed when the author defines a set of &#8220;hint rules&#8221;
for a given problem, and tells an answer box to use that set for
hints.</p>
<p>The hint rules specify a set of response matching patterns, and hint
strings to emit when the pattern finds a match in the student&#8217;s response.</p>
<p>The power of this general hint system comes in the wide range of
patterns which can be matched.  This includes matching on substrings,
mathematical symbols, mathematical functions, numerical value,
difference in magnitude between given and expected numerical values,
range of numerical value, equality with a mathematical formula, and
whether parentheses are balanced.  Patterns can also match on any
simple functional combination of simple matches; for example, a match
could be triggered when two distinct substrings are matched in the
response.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="custom-response-problem-with-hints">
<h3>Custom Response Problem with Hints<a class="headerlink" href="#custom-response-problem-with-hints" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates a custom response problem, which asks for
two numbers which sum to 10.  Two different hints are provided,
triggered on independent inputs into the two boxes.</p>
<p>Note that the hint rules are specified by a dictionary, with the keys
giving the sequential number for the response input box to match to,
and the values giving the rules for that response.:</p>
<div class="highlight-python"><pre>\begin{edXproblem}{Example problem with hints}{url_name="p1"}

Let $x=3$ and $y=9$.  Give two expressions using $x$ and $y$ which add
up to 10.

\begin{edXscript}

myhints = {0: [ {'symbol': 'L', 'hint': 'Should your answer depend on L?'},
              ],
           1: [ {'range': [4, 9],
                      'hint': 'You are out of range'
                  },
              ],
          }

def test10(expect, ans):
    samples = 'x,y,L@3,9,1:3,9,5#10'
    given = '(%s)+(%s)' % (ans[0], ans[1])
    ok = is_formula_equal('10', given, samples=samples)
    return {'ok': ok, 'msg': 'given=%s' % given}

\end{edXscript}

\edXabox{type='custom'
  size='20'
  expect='10'
  prompts="First number: ","Second number: "
  answers="1","9"
  inline="1"
  cfn='test10'
  hints='myhints'
}

\end{edXproblem}</pre>
</div>
</div>
<div class="section" id="example-of-logical-function-of-hints">
<h3>Example of logical function of hints<a class="headerlink" href="#example-of-logical-function-of-hints" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates how a logical function be applied in a hint
rule, to cause a match when the logical inverse of a lower-level
matching rule succeeds.  In this case, the match triggers when a
symbol or string is not present in the input.:</p>
<div class="highlight-python"><pre>\begin{edXproblem}

\begin{edXscript}

myhints = [ {'eval': "not symbol('g')", 'hint': "Shouldn't your answer depend on g?"},
            {'eval': "not string('sqrt')", 'hint': "What should the answer be for g=0 and g=1?"},
          ]

\end{edXscript}

\edXinline{Alice's state $|\psi'_{A,0}\&gt;$ when Bob measures $k=0$:}
  \edXabox{type="custom"
    expect="|0&gt;"
    cfn="ket_formula_check"
    options="samples='phi@1:10*10'"
    math="1"
    hints='myhints'
    size="60"
    inline="1"}

\end{edXproblem}</pre>
</div>
</div>
<div class="section" id="hints-in-a-multiple-choice-problem">
<h3>Hints in a multiple choice problem<a class="headerlink" href="#hints-in-a-multiple-choice-problem" title="Permalink to this headline">¶</a></h3>
<p>This example demonstrates a multiple choice problem, which presents
hints based on which choice the student responds with.</p>
<p>Note that the student response to be matched for multiple choice
problems is a string, e.g. &#8220;choice_1&#8221;, and not the text of the
multiple choice item.</p>
<p>The hint rules are thus specified by a list of dictionaries.  In this
case, each dictionary specifies a string to match, and a hint to
display when the match is found.</p>
<p>The hint rules are bound to a variable named &#8220;myhints&#8221;, and that
variable name is specified by the &#8220;hints&#8221; attribute in the edXabox
answer box line defining the multiple choice question.:</p>
<div class="highlight-python"><pre>\begin{edXproblem}{Example multiple choice problem with hints}{url_name="p2"}

What is the largest city in the world?

\begin{edXscript}

myhints = [ {'string': 'choice_1', 'hint': 'Too windy'},
            {'string': 'choice_2', 'hint': 'An american classic'},
            {'string': 'choice_3', 'hint': 'Too old'},
            {'string': 'choice_4', 'hint': 'Too rainy'},
          ]

\end{edXscript}

\edXabox{type="multichoice"
  expect='New York'
  options="Chicago","New York","Rome","London"
  hints='myhints'
}

\end{edXproblem}</pre>
</div>
</div>
</div>
<div class="section" id="technical-specification">
<h2>Technical specification<a class="headerlink" href="#technical-specification" title="Permalink to this headline">¶</a></h2>
<p>The hint rules may be specified as a list of dictionaries.  Each
dictionary may include the following key, value pairs:</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="10%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Value type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td rowspan="2">hint</td>
<td rowspan="2">string</td>
<td rowspan="2">text to display when the hint rule matches</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="6">string</td>
<td rowspan="6"><p class="first">string</p>
<p>dict</p>
<p class="last">dict</p>
</td>
<td rowspan="6"><p class="first">match on this string present (exact or substring) in the student&#8217;s answer</p>
<p>{&#8216;regexp&#8217;: regular-expression-string }</p>
<p class="last">{&#8216;nospaces&#8217;: string-to-match-in-answer-after-spaces-removed-from-answer}</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="2">symbol</td>
<td rowspan="2">string</td>
<td rowspan="2">match on math symbol in the answer</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="2">func</td>
<td rowspan="2">string</td>
<td rowspan="2">match on math function name in the answer</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="2">isnum</td>
<td rowspan="2">&nbsp;</td>
<td rowspan="2">match on answer being numerical (value ignored)</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4">val</td>
<td rowspan="4"><p class="first">float</p>
<p class="last">dict</p>
</td>
<td rowspan="4"><p class="first">match on numerical value of student&#8217;s answer</p>
<p class="last">{&#8216;expect&#8217;: number, &#8216;tolerance&#8217;: tolerance}</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4">magdif</td>
<td rowspan="4"><p class="first">float</p>
<p class="last">dict</p>
</td>
<td rowspan="4"><p class="first">match on difference in magnitude between given &amp; expected numerical values being too large</p>
<p class="last">{&#8216;expect&#8217;: number, &#8216;max&#8217;: maximum_magnitude_difference_in_log10}</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="2">range</td>
<td rowspan="2">list</td>
<td rowspan="2">[min, max] match on numerical answer being within a certain range</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4">formula</td>
<td rowspan="4">string</td>
<td rowspan="4"><p class="first">match on formula equality (via numerical sampling), specified by expression of the form:</p>
<p class="last">&lt;expr&gt;!&lt;variables&gt;&#64;&lt;lower_range&gt;:&lt;upper_range&gt;*yyyyyyyyyyyynyyyy&lt;num_samples&gt;</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="2">parens</td>
<td rowspan="2">&nbsp;</td>
<td rowspan="2">match on un-balanced parentheses (value ignored)</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="4">eval</td>
<td rowspan="4">string</td>
<td rowspan="4"><p class="first">match on evaluated expression, which may contain calls to other hint functions</p>
<p class="last">value = expression to evaluate, e.g. &#8220;not string(&#8216;*&#8217;) and string(&#8216;x&#8217;)&#8221;</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td rowspan="2">debug</td>
<td rowspan="2">&nbsp;</td>
<td rowspan="2">always matches, but outputs the student&#8217;s response (not the hint string)</td>
</tr>
<tr class="row-odd"></tr>
</tbody>
</table>
<p>The hint rule matches, and the hint string is emitted, if any of the
keys (other than &#8220;hint&#8221;) matches.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The General Hints System</a><ul>
<li><a class="reference internal" href="#overview-and-theory-of-operation">Overview and theory of operation</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#custom-response-problem-with-hints">Custom Response Problem with Hints</a></li>
<li><a class="reference internal" href="#example-of-logical-function-of-hints">Example of logical function of hints</a></li>
<li><a class="reference internal" href="#hints-in-a-multiple-choice-problem">Hints in a multiple choice problem</a></li>
</ul>
</li>
<li><a class="reference internal" href="#technical-specification">Technical specification</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="macros.html"
                        title="previous chapter">latex2edx TeX Macros</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="history.html"
                        title="next chapter">Release History</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/hints.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="history.html" title="Release History"
             >next</a> |</li>
        <li class="right" >
          <a href="macros.html" title="latex2edx TeX Macros"
             >previous</a> |</li>
        <li><a href="index.html">latex2edx 1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, I. Chuang.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>